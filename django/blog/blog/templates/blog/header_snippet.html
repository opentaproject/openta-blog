{% block category %}


    <ul class="OpenTA-navigation-bar">
        {% for category in categories %}
	<li class="OpenTA-text-size -mb-px mr-1"> 


                {% if category.pk == category_selected %}
		<a class="OpenTA-category-selected" href="/blog/{{ category.pk }}/">{{ category }}   </a> 

	</li>
                {% else %}
                    <li class="mr-1">
                        <a class="OpenTA-category-not-selected" href="/blog/{{ category.pk }}/">{{ category }}</a>
                    </li>
                {% endif %}
        {% endfor %}
    </ul>






{% endblock category %}


{% block subcategory %}


    <ul class="OpenTA-subcategories">
        {% for category in categories %}
{% if category.pk == category_selected %}
	<li class="OpenTA-text-size -mb-px mr-1"> 

		<form method="post">
			<label for="id_filterkey_all" > <input type="radio" name="option" value="All" id="All" > All </input>
			</label>
		{% for f in category.get_filterkeys %} 
		{{ style }} 
		{% if f.name %}
			<label for="id_filterkey_{{f.pk}}">
				{% if filter_key.pk == f.pk %}
				<input type="radio" name="option" value="{{ f.get_posts }}" id="id_filterkey_{{f.pk}}" checked>  {{ f.title | truncatechars:10 }}  <span class="OpenTA-debug"> {{ f.get_posts }} </span> </input> 
				{% else %}
				<input type="radio" name="option" value="{{ f.get_posts }}" id="id_filterkey_{{f.pk}}">  {{ f.title| truncatechars:10  }}  <span class="OpenTA-debug"> {{ f.get_posts }} </span> </input> 

				{% endif %}
			</label>
		{% else %} <span> EMPTY </span>
		{% endif %}
		{% endfor %}
		</form>

	</li>
      {% endif %}
        {% endfor %}
    </ul>

    <script>
	function hideshow( a ) {
		var posts =  document.getElementsByClassName('post');
		if ( a == 'All' ){
			var acopy = [];
			for (var i = 0; i < posts.length; i++) {
				posts[i].classList.remove('hidden') ; // Do something with each element
				posts[i].classList.add('visible') ; // Do something with each element
				}
			} 
		else  {
		      var acopy = JSON.parse( a );
			for (var i = 0; i < posts.length; i++) {
				posts[i].classList.add('hidden') ; // Do something with each element
         			posts[i].classList.replace('visible','hidden') ; // Do something with each element


			for ( let i = 0 ; i < acopy.length ; i++ ){
				const post = document.getElementById( 'post_' + acopy[i] );
				post.classList.replace('hidden','visible');
				}
			}
		     }
		var rhs = document.getElementById("rhs");
		if ( rhs ) {
			rhs.classList.add('hidden') 
		}
		}
        // Select all radio buttons with the name 'option'
        const radioButtons = document.querySelectorAll('input[name="option"]');

        // Add a 'change' event listener to each radio button
        radioButtons.forEach((radio) => {
            radio.addEventListener('change', () => {
                if (radio.checked) {
			hideshow(  radio.value )
                }
            });
        });
    </script>





{% endblock subcategory %}
